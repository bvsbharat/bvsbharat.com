---
import Layout from "@/layouts/Layout.astro";
import Header from "@/components/Header.astro";
import Footer from "@/components/Footer.astro";
import Hr from "@/components/Hr.astro";
import Card from "@/components/Card.astro";
import { getCollection } from "astro:content";
import { getSortedPosts } from "@/utils/getSortedPosts";

const posts = await getCollection("blog");
const sortedPosts = getSortedPosts(posts, { excludeHackathons: false });
const hackathonPosts = sortedPosts.filter((p) => p.data.tags.includes("hackathon"));
---

<Layout title="Hackathons" description="30+ hackathon wins across AI, Voice AI, Agents, and Enterprise categories.">
  <Header />
  <main id="main-content" class="mx-auto w-full flex-1 px-4 pb-12" style="max-width:1020px">
    <section class="mt-8">
      <h1 class="text-2xl font-semibold tracking-wide sm:text-3xl">
        30+ Hackathon Wins
      </h1>
      <p class="mt-2 opacity-70">
        Building at the intersection of AI, voice, and agents â€” one hackathon at a time.
      </p>
    </section>

    <Hr />

    <section class="pt-8 pb-4">
      <ul>
        {hackathonPosts.map((post) => <Card post={post} enableTransition />)}
      </ul>
    </section>
  </main>
  <Footer />
</Layout>
